<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Meta Information -->
  <title>VaultPass - Home Page</title>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- External CSS -->

  <!-- Fonts -------------------------------------------------------->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Bungee&family=Bungee+Spice&family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap"
    rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding:wght@400;700&display=swap" rel="stylesheet">

  <!-- NAV CSS -->
  <link rel="stylesheet" href="/styles/nav.css">
  <link rel="stylesheet" href="/styles/vaultPasses.css">
  <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" />
  <link rel="stylesheet" href="/vendor/border-box.css" />
  <link rel="stylesheet" href="/styles/main.css" />
  <link rel="stylesheet" href="/styles/layout.css" />
  <link rel="stylesheet" href="/styles/newPass.css">
  <link rel="stylesheet" href="/styles/dashboard.css">

  <!--- App JS --->
  <script src="/vendor/jquery-3.0.0.js"></script>
  <script defer src="/scripts/app.js"></script>
  <script defer src="/scripts/users.js"></script>
  <script defer src="/routes/edit.js"></script>
  <!-- new create button  -->
  <script defer src="/scripts/createBtn.js"></script>
  <script defer src="/scripts/copyBtn.js"></script>

</head>


<body>
  <nav>
    <%- include('partials/_header') %>
      <!-- <span class="vaultPass-header">VaultPass</span>
      <div class="username-head">USERNAME</div>
      <div class="logout-button">
        <button class="logout-button" type="submit">Logout</button>
      </div> -->
  </nav>
  <main class="website-list">
    <!-- <h3 class="website-head">Your vaultPasses</h3> -->

    <ul id="users"></ul>
  </main>
  <section>
    <div>
      <!-- CATEGORIES GOES HERE -->

    </div>
    <!-- Displaying the list of websites (vaults) -->
    <div class="container mt-5">
      <h1>My Vaults</h1>
      <div class="row">
        <div class="category-buttons">
          <a href="/">View All</a>
          <a href="/?category=Social">Social</a>
          <a href="/?category=Entertainment">Entertainment</a>
          <a href="/?category=Work-related">Work Related</a>
        </div>
        <!-- Loop through the 'website' array passed from the server -->
        <div class="website-card">
        <% website.forEach(vault=> { %> <!-- 'website' is the array from the server -->
          <div class="card">
            <div class="card-body">
                <!-- Display the website URL and username -->
                <h5 class="card-title">
                  <%= vault.url %>
                </h5>
                <label class="card-text">Username:</label>
                <input id="username" class="username" value="<%= vault.username %>" disabled />
                <button type="button" class="copy-username" id="copy-url">Copy username</button>
                <label class="card-text">Password:</label>
                <input type="password" class="password" value="<%= vault.password %>" disabled />
                <button type="button" class="copy-password">Copy password</button>



                <!-- Form to edit the website, redirects to POST /edit/:id -->
                
                <a href="/<%= vault.id %>/edit">
                  <button type="submit" class="btn btn-primary">Edit</button>
                </a>
                <form action="/<%= vault.id %>/delete" method="POST" style="display: inline;">
                  <button type="submit" class="btn btn-danger">Delete</button>
                </form>
                <!-- Create redirect button for homepage -->


              </div>
            </div>
          
          <% }) %> <!-- End of the loop -->
      </div>
        </div>
      <!-- <button id="createBtn">Create</button> -->
    </div>
  </div>
  </section>
  <script src="/public/scripts/singleWebsiteCard.js"></script>
</body>


</html>